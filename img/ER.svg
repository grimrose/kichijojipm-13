<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1025px" preserveAspectRatio="none" style="width:572px;height:1025px;" version="1.1" viewBox="0 0 572 1025" width="572px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jfv05zp4d50y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster sample_system--><polygon fill="#FFFFFF" filter="url(#f1jfv05zp4d50y)" points="22,24,148,24,155,44,550,44,550,1013,22,1013,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="155" y1="44" y2="44"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="26" y="38.3184">サンプルシステム</text><!--class event--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="114" id="event" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="333" y="57"/><ellipse cx="348" cy="73" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M344.6875,67.0469 L351.3438,67.0469 L351.3438,69.0313 L346.7344,69.0313 L346.7344,72.125 L350.7344,72.125 L350.7344,74.0781 L346.7344,74.0781 L346.7344,77.6563 L351.6875,77.6563 L351.6875,79.6406 L344.6875,79.6406 L344.6875,67.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="362" y="77.5586">登録イベントテーブル</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="334" x2="484" y1="89" y2="89"/><ellipse cx="344" cy="100" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="353" y="102.6787">イベントID [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="334" x2="484" y1="108" y2="108"/><polygon fill="none" points="344,114,348,118,344,122,340,118" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="353" y="121.6787">管理番号ID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="353" y="132.6787">イベント発生日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="353" y="143.6787">備考</text><polygon fill="none" points="344,147,348,151,344,155,340,151" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="353" y="154.6787">前イベントID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="353" y="165.6787">inserted_at</text><!--class event_history--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="125" id="event_history" style="stroke: #A80036; stroke-width: 1.5;" width="176" x="321" y="236.5"/><ellipse cx="336" cy="252.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M332.6875,246.5469 L339.3438,246.5469 L339.3438,248.5313 L334.7344,248.5313 L334.7344,251.625 L338.7344,251.625 L338.7344,253.5781 L334.7344,253.5781 L334.7344,257.1563 L339.6875,257.1563 L339.6875,259.1406 L332.6875,259.1406 L332.6875,246.5469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="350" y="257.0586">登録イベント履歴テーブル</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="322" x2="496" y1="268.5" y2="268.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322" x2="496" y1="276.5" y2="276.5"/><polygon fill="none" points="332,282.5,336,286.5,332,290.5,328,286.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="341" y="290.1787">イベントID [FK]</text><polygon fill="none" points="332,293.5,336,297.5,332,301.5,328,297.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="341" y="301.1787">管理番号ID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="341" y="312.1787">イベント発生日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="341" y="323.1787">備考</text><polygon fill="none" points="332,326.5,336,330.5,332,334.5,328,330.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="341" y="334.1787">前イベントID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="341" y="345.1787">inserted_at</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="341" y="356.1787">updated_at</text><!--class event_snapshot--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="136" id="event_snapshot" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="38" y="231"/><ellipse cx="53" cy="247" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M49.6875,241.0469 L56.3438,241.0469 L56.3438,243.0313 L51.7344,243.0313 L51.7344,246.125 L55.7344,246.125 L55.7344,248.0781 L51.7344,248.0781 L51.7344,251.6563 L56.6875,251.6563 L56.6875,253.6406 L49.6875,253.6406 L49.6875,241.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="67" y="251.5586">登録イベントスナップショットテーブル</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="285" y1="263" y2="263"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="285" y1="271" y2="271"/><polygon fill="none" points="49,277,53,281,49,285,45,281" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="58" y="284.6787">イベントID [FK]</text><polygon fill="none" points="49,288,53,292,49,296,45,292" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="58" y="295.6787">管理番号ID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="58" y="306.6787">イベント発生日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="58" y="317.6787">備考</text><polygon fill="none" points="49,321,53,325,49,329,45,325" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="58" y="328.6787">前イベントID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="58" y="339.6787">inserted_at</text><polygon fill="none" points="49,343,53,347,49,351,45,347" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="58" y="350.6787">スナップショットID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="58" y="361.6787">snapshot_at</text><!--class snapshot--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="81" id="snapshot" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="68" y="73.5"/><ellipse cx="83" cy="89.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.6875,83.5469 L86.3438,83.5469 L86.3438,85.5313 L81.7344,85.5313 L81.7344,88.625 L85.7344,88.625 L85.7344,90.5781 L81.7344,90.5781 L81.7344,94.1563 L86.6875,94.1563 L86.6875,96.1406 L79.6875,96.1406 L79.6875,83.5469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="97" y="94.0586">スナップショットIDテーブル</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69" x2="255" y1="105.5" y2="105.5"/><ellipse cx="79" cy="116.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="88" y="119.1787">スナップショットID [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="255" y1="124.5" y2="124.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="74" y="138.1787">イベント発生年月</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="74" y="149.1787">inserted_at</text><!--class system_number--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="70" id="system_number" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="351" y="427"/><ellipse cx="366" cy="443" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M362.6875,437.0469 L369.3438,437.0469 L369.3438,439.0313 L364.7344,439.0313 L364.7344,442.125 L368.7344,442.125 L368.7344,444.0781 L364.7344,444.0781 L364.7344,447.6563 L369.6875,447.6563 L369.6875,449.6406 L362.6875,449.6406 L362.6875,437.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="380" y="447.5586">管理番号マスタ</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="352" x2="466" y1="459" y2="459"/><ellipse cx="362" cy="470" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="371" y="472.6787">管理番号ID [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="352" x2="466" y1="478" y2="478"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="357" y="491.6787">inserted_at</text><!--class system_number_detail--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="125" id="system_number_detail" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="182" y="562.5"/><ellipse cx="197" cy="578.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M193.6875,572.5469 L200.3438,572.5469 L200.3438,574.5313 L195.7344,574.5313 L195.7344,577.625 L199.7344,577.625 L199.7344,579.5781 L195.7344,579.5781 L195.7344,583.1563 L200.6875,583.1563 L200.6875,585.1406 L193.6875,585.1406 L193.6875,572.5469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="211" y="583.0586">管理番号明細マスタ</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="183" x2="321" y1="594.5" y2="594.5"/><ellipse cx="193" cy="605.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="202" y="608.1787">管理番号ID [PK]</text><ellipse cx="193" cy="616.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="202" y="619.1787">開始日 [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="183" x2="321" y1="624.5" y2="624.5"/><polygon fill="none" points="193,630.5,197,634.5,193,638.5,189,634.5" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="202" y="638.1787">カテゴリID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="202" y="649.1787">管理番号</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="202" y="660.1787">備考</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="202" y="671.1787">終了日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="202" y="682.1787">inserted_at</text><!--class system_number_history--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="136" id="system_number_history" style="stroke: #A80036; stroke-width: 1.5;" width="152" x="357" y="557"/><ellipse cx="372" cy="573" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M368.6875,567.0469 L375.3438,567.0469 L375.3438,569.0313 L370.7344,569.0313 L370.7344,572.125 L374.7344,572.125 L374.7344,574.0781 L370.7344,574.0781 L370.7344,577.6563 L375.6875,577.6563 L375.6875,579.6406 L368.6875,579.6406 L368.6875,567.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="386" y="577.5586">管理番号履歴テーブル</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="358" x2="508" y1="589" y2="589"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="358" x2="508" y1="597" y2="597"/><polygon fill="none" points="368,603,372,607,368,611,364,607" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="377" y="610.6787">管理番号ID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="377" y="621.6787">開始日</text><polygon fill="none" points="368,625,372,629,368,633,364,629" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="377" y="632.6787">カテゴリID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="377" y="643.6787">管理番号</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="377" y="654.6787">備考</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="377" y="665.6787">終了日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="377" y="676.6787">inserted_at</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="377" y="687.6787">updated_at</text><!--class category--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="70" id="category" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="209" y="753"/><ellipse cx="224" cy="769" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M220.6875,763.0469 L227.3438,763.0469 L227.3438,765.0313 L222.7344,765.0313 L222.7344,768.125 L226.7344,768.125 L226.7344,770.0781 L222.7344,770.0781 L222.7344,773.6563 L227.6875,773.6563 L227.6875,775.6406 L220.6875,775.6406 L220.6875,763.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="238" y="773.5586">カテゴリマスタ</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="210" x2="324" y1="785" y2="785"/><ellipse cx="220" cy="796" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="229" y="798.6787">カテゴリID [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="210" x2="324" y1="804" y2="804"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="215" y="817.6787">inserted_at</text><!--class category_detail--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="103" id="category_detail" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="117" y="888.5"/><ellipse cx="132" cy="904.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M128.6875,898.5469 L135.3438,898.5469 L135.3438,900.5313 L130.7344,900.5313 L130.7344,903.625 L134.7344,903.625 L134.7344,905.5781 L130.7344,905.5781 L130.7344,909.1563 L135.6875,909.1563 L135.6875,911.1406 L128.6875,911.1406 L128.6875,898.5469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="146" y="909.0586">カテゴリ明細マスタ</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="118" x2="256" y1="920.5" y2="920.5"/><ellipse cx="128" cy="931.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="137" y="934.1787">カテゴリID [PK]</text><ellipse cx="128" cy="942.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="137" y="945.1787">開始日 [PK]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="118" x2="256" y1="950.5" y2="950.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="123" y="964.1787">名称</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="123" y="975.1787">終了日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="123" y="986.1787">inserted_at</text><!--class category_history--><rect fill="#FEFECE" filter="url(#f1jfv05zp4d50y)" height="114" id="category_history" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="292" y="883"/><ellipse cx="307" cy="899" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303.6875,893.0469 L310.3438,893.0469 L310.3438,895.0313 L305.7344,895.0313 L305.7344,898.125 L309.7344,898.125 L309.7344,900.0781 L305.7344,900.0781 L305.7344,903.6563 L310.6875,903.6563 L310.6875,905.6406 L303.6875,905.6406 L303.6875,893.0469 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="321" y="903.5586">カテゴリ履歴マスタ</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="293" x2="431" y1="915" y2="915"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="293" x2="431" y1="923" y2="923"/><polygon fill="none" points="303,929,307,933,303,937,299,933" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="312" y="936.6787">カテゴリID [FK]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="312" y="947.6787">開始日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="312" y="958.6787">名称</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="312" y="969.6787">終了日</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="312" y="980.6787">inserted_at</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="312" y="991.6787">updated_at</text><!--link event to system_number--><path d="M475.644,171.286 C491.592,188.624 506.462,209.001 515,231 C536.868,287.35 539.794,311.875 515,367 C505.217,388.752 487.636,407.512 469.569,422.426 " fill="none" id="event-system_number" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5781" x2="464.5722" y1="427.5472" y2="421.3069"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="471.9182" x2="466.9123" y1="425.6699" y2="419.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="470.1953" x2="463.955" y1="421.9241" y2="426.93"/><!--link event to event_history--><path d="M409,171.399 C409,189.33 409,209.38 409,228.142 " fill="none" id="event-event_history" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="415" y1="228.375" y2="236.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="403" y1="228.375" y2="236.375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="409" y1="228.375" y2="236.375"/><ellipse cx="409" cy="222.375" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--link event_history to system_number--><path d="M409,361.786 C409,381.029 409,401.783 409,419.309 " fill="none" id="event_history-system_number" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="405" y1="422.61" y2="422.61"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="405" y1="419.61" y2="419.61"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="409" x2="409" y1="418.61" y2="426.61"/><!--link event to event_snapshot--><path d="M333.213,171.15 C309.912,188.414 283.932,207.662 259.393,225.842 " fill="none" id="event-event_snapshot" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259.28" x2="256.4238" y1="225.9256" y2="235.509"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259.28" x2="249.2802" y1="225.9256" y2="225.867"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="259.28" x2="252.852" y1="225.9256" y2="230.688"/><ellipse cx="264.101" cy="222.3537" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--link event_snapshot to system_number--><path d="M264.962,367.113 C294.25,386.204 325.125,406.328 350.744,423.028 " fill="none" id="event_snapshot-system_number" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="355.6345" x2="351.2657" y1="421.4407" y2="428.1425"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="353.1214" x2="348.7526" y1="419.8024" y2="426.5042"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="350.0992" x2="356.801" y1="422.6072" y2="426.976"/><!--link system_number to system_number_detail--><path d="M375.704,497.144 C358.838,514.44 337.748,536.068 317.784,556.539 " fill="none" id="system_number-system_number_detail" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.7737" x2="316.4833" y1="556.5509" y2="566.4673"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.7737" x2="307.8927" y1="556.5509" y2="558.0887"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="317.7737" x2="312.188" y1="556.5509" y2="562.278"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.0337" x2="316.3066" y1="557.9119" y2="552.3262"/><!--link system_number to system_number_history--><path d="M414.09,497.144 C416.333,512.193 419.065,530.52 421.747,548.512 " fill="none" id="system_number-system_number_history" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.7941" x2="428.9084" y1="548.8295" y2="555.857"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.7941" x2="417.0396" y1="548.8295" y2="557.627"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="421.7941" x2="422.974" y1="548.8295" y2="556.742"/><ellipse cx="420.9091" cy="542.8951" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--link system_number_detail to category--><path d="M257.756,687.786 C259.549,707.029 261.483,727.783 263.116,745.309 " fill="none" id="system_number_detail-category" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.4073" x2="259.4419" y1="748.2559" y2="748.9987"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267.1287" x2="259.1633" y1="745.2688" y2="746.0117"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263.0532" x2="263.796" y1="744.6446" y2="752.61"/><!--link system_number_history to category--><path d="M363.563,693.346 C344.4,711.931 324.246,731.478 307.337,747.878 " fill="none" id="system_number_history-category" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.8542" x2="302.2837" y1="752.9477" y2="747.2058"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="310.0074" x2="304.4369" y1="750.8588" y2="745.1169"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="307.9399" x2="302.198" y1="747.2915" y2="752.862"/><!--link category to category_detail--><path d="M248.847,823.037 C239.691,840.205 228.332,861.503 217.857,881.143 " fill="none" id="category-category_detail" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217.8075" x2="219.3372" y1="881.2351" y2="891.1174"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217.8075" x2="208.7488" y1="881.2351" y2="885.4706"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217.8075" x2="214.043" y1="881.2351" y2="888.294"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222.2781" x2="215.2191" y1="881.3526" y2="877.5881"/><!--link category to category_history--><path d="M288.557,823.037 C298.416,838.604 310.426,857.567 321.854,875.612 " fill="none" id="category-category_history" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.0879" x2="331.4371" y1="875.9803" y2="879.5289"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.0879" x2="321.2989" y1="875.9803" y2="885.9491"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322.0879" x2="326.368" y1="875.9803" y2="882.739"/><ellipse cx="318.8778" cy="870.9112" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.0;"/><!--link snapshot to event_snapshot--><path d="M162,154.708 C162,174.549 162,199.235 162,222.497 " fill="none" id="snapshot-event_snapshot" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="168" y1="222.655" y2="230.655"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="156" y1="222.655" y2="230.655"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="162" y1="222.655" y2="230.655"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="158" y1="220.655" y2="220.655"/><!--
@startuml

package "サンプルシステム" as sample_system {

    entity "登録イベントテーブル" as event {
        + イベントID [PK]
        - -
        # 管理番号ID [FK]
        イベント発生日
        備考
        # 前イベントID [FK]
        inserted_at
    }

    entity "登録イベント履歴テーブル" as event_history {
        - -
        # イベントID [FK]
        # 管理番号ID [FK]
        イベント発生日
        備考
        # 前イベントID [FK]
        inserted_at
        updated_at
    }

    entity "登録イベントスナップショットテーブル" as event_snapshot {
        - -
        # イベントID [FK]
        # 管理番号ID [FK]
        イベント発生日
        備考
        # 前イベントID [FK]
        inserted_at
        # スナップショットID [FK]
        snapshot_at
    }

    entity "スナップショットIDテーブル" as snapshot {
        + スナップショットID [PK]
        - -
        イベント発生年月
        inserted_at
    }

    entity "管理番号マスタ" as system_number {
        + 管理番号ID [PK]
        - -
        inserted_at
    }

    entity "管理番号明細マスタ" as system_number_detail {
        + 管理番号ID [PK]
        + 開始日 [PK]
        - -
        # カテゴリID [FK]
        管理番号
        備考
        終了日
        inserted_at
    }

    entity "管理番号履歴テーブル" as system_number_history {
        - -
        # 管理番号ID [FK]
        開始日
        # カテゴリID [FK]
        管理番号
        備考
        終了日
        inserted_at
        updated_at
    }

    entity "カテゴリマスタ" as category {
        + カテゴリID [PK]
        - -
        inserted_at
    }

    entity "カテゴリ明細マスタ" as category_detail {
        + カテゴリID [PK]
        + 開始日 [PK]
        - -
        名称
        終了日
        inserted_at
    }

    entity "カテゴリ履歴マスタ" as category_history {
        - -
        # カテゴリID [FK]
        開始日
        名称
        終了日
        inserted_at
        updated_at
    }
}

event           - -||    system_number
event           - -o{    event_history
event_history   - -||    system_number
event           - -o{    event_snapshot
event_snapshot  - -||    system_number

system_number   - -|{  system_number_detail
system_number   - -o{  system_number_history

system_number_detail    - -||  category
system_number_history   - -||  category

category    - -|{    category_detail
category    - -o{    category_history

snapshot    - -|{    event_snapshot

@enduml

PlantUML version 1.2018.00(Thu Jan 04 19:42:56 GMT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_131-b11
Operating System: Linux
OS Version: 4.9.60-linuxkit-aufs
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>